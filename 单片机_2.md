### 计时器

#### TIM计时器

>可以对输入时钟计数,到达设定值时触发中断
16位计数器，预分频器，自动重装寄存器构成了是基单元。在2^16^下，也即72MHz可以实现59.65s的计时。

定时器之间有等级区分
| 高级定时器 | 通用定时器 | 基本定时器|
|--|--|--|
| 1,8 | 2-5 | 6,7 |
|总线APB2  |APB1  | APB1 |
| 除下二者外,额外有重复计数器,死区生成等| 除下者外,额外拥有输入捕获,输出比较,主从触发等 | 可以定时中断,主模式触发DAC |

*我们学习的C8T6，只有1234四个计时器，一个高级，三个通用*

初始化流程:![输入图片说明](/imgs/2025-10-24/jpt9OpLZEHn4VlrY.png)
```c
void TimerInit(void)
{
RCC_APB2PeriphClockCmd( RCC_APB1Periph_TIM2 , ENABLE ); 

TIM_InternalClockConfig( TIM2 ) ;

TIM_TimeBaseInitTypeDef TIM_TimeBaseInitStructure;
...分别配置时基单元参数...



}

```




<!--stackedit_data:
eyJoaXN0b3J5IjpbLTcyMTg0OTg4OCwxNTExNTUwNzA4LDEzNz
cwNjk4MDAsMTc1MTI3MDIwMl19
-->